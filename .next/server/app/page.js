(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},2739:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c});var r=s(482),a=s(9108),n=s(2563),i=s.n(n),l=s(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1136)),"C:\\Coding\\Virtual Trader\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1342)),"C:\\Coding\\Virtual Trader\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Coding\\Virtual Trader\\src\\app\\page.tsx"],u="/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8785:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},3130:(e,t,s)=>{Promise.resolve().then(s.bind(s,1486))},3045:(e,t,s)=>{Promise.resolve().then(s.bind(s,4674))},6377:(e,t,s)=>{"use strict";var r=s(7598).Symbol;e.exports=r},5945:(e,t,s)=>{"use strict";var r=s(6377),a=s(1370),n=s(3517),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):n(e)}},2894:(e,t,s)=>{"use strict";var r=s(9575),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},2335:e=>{"use strict";var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},1370:(e,t,s)=>{"use strict";var r=s(6377),a=Object.prototype,n=a.hasOwnProperty,i=a.toString,l=r?r.toStringTag:void 0;e.exports=function(e){var t=n.call(e,l),s=e[l];try{e[l]=void 0;var r=!0}catch(e){}var a=i.call(e);return r&&(t?e[l]=s:delete e[l]),a}},3517:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},7598:(e,t,s)=>{"use strict";var r=s(2335),a="object"==typeof self&&self&&self.Object===Object&&self,n=r||a||Function("return this")();e.exports=n},9575:e=>{"use strict";var t=/\s/;e.exports=function(e){for(var s=e.length;s--&&t.test(e.charAt(s)););return s}},3908:(e,t,s)=>{"use strict";var r=s(986),a=s(120),n=s(9155),i=Math.max,l=Math.min;e.exports=function(e,t,s){var o,c,d,u,x,h,m=0,p=!1,b=!1,g=!0;if("function"!=typeof e)throw TypeError("Expected a function");function f(t){var s=o,r=c;return o=c=void 0,m=t,u=e.apply(r,s)}function v(e){var s=e-h,r=e-m;return void 0===h||s>=t||s<0||b&&r>=d}function y(){var e,s,r,n=a();if(v(n))return j(n);x=setTimeout(y,(e=n-h,s=n-m,r=t-e,b?l(r,d-s):r))}function j(e){return(x=void 0,g&&o)?f(e):(o=c=void 0,u)}function N(){var e,s=a(),r=v(s);if(o=arguments,c=this,h=s,r){if(void 0===x)return m=e=h,x=setTimeout(y,t),p?f(e):u;if(b)return clearTimeout(x),x=setTimeout(y,t),f(h)}return void 0===x&&(x=setTimeout(y,t)),u}return t=n(t)||0,r(s)&&(p=!!s.leading,d=(b="maxWait"in s)?i(n(s.maxWait)||0,t):d,g="trailing"in s?!!s.trailing:g),N.cancel=function(){void 0!==x&&clearTimeout(x),m=0,o=h=c=x=void 0},N.flush=function(){return void 0===x?u:j(a())},N}},986:e=>{"use strict";e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2111:e=>{"use strict";e.exports=function(e){return null!=e&&"object"==typeof e}},6381:(e,t,s)=>{"use strict";var r=s(5945),a=s(2111);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},120:(e,t,s)=>{"use strict";var r=s(7598);e.exports=function(){return r.Date.now()}},9155:(e,t,s)=>{"use strict";var r=s(2894),a=s(986),n=s(6381),i=0/0,l=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(n(e))return i;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var s=o.test(e);return s||c.test(e)?d(e.slice(2),s?2:8):l.test(e)?i:+e}},1486:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(5344),a=s(759),n=s.n(a);s(3824);var i=s(5814),l=s(8428),o=s(6506),c=s(3729),d=s(5332);function u(){let[e,t]=(0,c.useState)([]),[s,a]=(0,c.useState)(0),[n,i]=(0,c.useState)(!1);(0,c.useEffect)(()=>{l();let e=d.O.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications"},e=>{let s=e.new;t(e=>[s,...e]),a(e=>e+1)}).subscribe();return()=>{e.unsubscribe()}},[]);let l=async()=>{let{data:e,error:s}=await d.O.from("notifications").select("*").order("created_at",{ascending:!1}).limit(20);e&&(t(e),a(e.filter(e=>!e.read).length))},o=async e=>{await d.O.from("notifications").update({read:!0}).eq("id",e),t(t=>t.map(t=>t.id===e?{...t,read:!0}:t)),a(e=>Math.max(0,e-1))};return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>i(!n),className:"relative p-2 text-gray-600 hover:text-gray-900",children:[r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),s>0&&r.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:s})]}),n&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg z-50",children:[r.jsx("div",{className:"p-4 border-b",children:r.jsx("h3",{className:"text-lg font-semibold",children:"알림"})}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:0===e.length?r.jsx("div",{className:"p-4 text-center text-gray-500",children:"알림이 없습니다"}):e.map(e=>(0,r.jsxs)("div",{className:`p-4 border-b hover:bg-gray-50 cursor-pointer ${e.read?"":"bg-blue-50"}`,onClick:()=>o(e.id),children:[r.jsx("p",{className:"text-sm text-gray-900",children:e.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.created_at).toLocaleString()})]},e.id))})]})]})}function x({children:e}){let{user:t,loading:s,signOut:a}=(0,i.a)(),n=(0,l.usePathname)(),c=(0,l.useRouter)();return(console.log("Auth State:",{user:t,loading:s,pathname:n}),s)?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"loading loading-lg"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"로딩 중..."})]})}):t||["/login","/register"].includes(n)?t&&["/login","/register"].includes(n)?(c.push("/"),null):["/login","/register"].includes(n)?e:(0,r.jsxs)("div",{className:"min-h-screen flex",children:[(0,r.jsxs)("div",{className:"w-64 bg-white shadow-lg",children:[r.jsx("div",{className:"p-4",children:r.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"주식 가상매매"})}),r.jsx("nav",{className:"mt-4",children:[{name:"홈",path:"/"},{name:"포트폴리오",path:"/portfolio"},{name:"거래내역",path:"/transactions"},{name:"관심종목",path:"/watchlist"}].map(e=>r.jsx(o.default,{href:e.path,className:`block px-4 py-2 text-sm ${n===e.path?"bg-blue-50 text-blue-600 border-r-4 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:e.name},e.path))})]}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("header",{className:"bg-white shadow",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"주식 가상매매 시뮬레이터"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx(u,{}),r.jsx("button",{onClick:()=>a(),className:"text-sm text-gray-600 hover:text-gray-900",children:"로그아웃"})]})]})}),r.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e})]})]}):(console.log("Redirecting to login..."),c.push("/login"),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-gray-600",children:"로그인 페이지로 이동 중..."})})}))}function h({children:e}){return r.jsx("html",{lang:"ko",children:r.jsx("body",{className:n().className,children:r.jsx(i.H,{children:r.jsx(x,{children:e})})})})}},4674:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(5344),a=s(3729),n=s(3908),i=s.n(n),l=s(8243);function o({stocks:e,onSelectStock:t}){return r.jsx("div",{className:"space-y-2",children:e.map(e=>r.jsx("div",{className:"p-2 border rounded cursor-pointer hover:bg-gray-100",onClick:()=>t(e),children:(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{children:[e.name," (",e.symbol,")"]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:`
                ${(e.change??0)>=0?"text-green-600":"text-red-600"}
                font-semibold
              `,children:[e.price?.toLocaleString()??"-"," 원"]}),r.jsx("div",{className:"text-sm text-gray-500",children:e.change?`${e.change.toFixed(2)}%`:"-"})]})]})},e.symbol))})}var c=s(2465),d=s(8816);function u({symbol:e,name:t}){let[s,n]=(0,a.useState)(null),[i,l]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null);if((0,a.useEffect)(()=>{let t=async()=>{try{l(!0),c(null);let t=await fetch(`/api/stocks/${e}/history`);if(!t.ok)throw Error("차트 데이터 로딩 실패");let s=await t.json();if(!s.dates||!s.prices||!s.volumes)throw Error("잘못된 데이터 형식");n(s)}catch(e){c(e instanceof Error?e.message:"알 수 없는 오류"),console.error("차트 데이터 로딩 실패:",e)}finally{l(!1)}};e&&t()},[e]),i)return r.jsx("div",{className:"p-4 text-center",children:"차트 로딩 중..."});if(o)return r.jsx("div",{className:"p-4 text-red-500",children:o});if(!s)return null;let u={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:`${t} (${e})`}}},x={...u,scales:{y:{type:"linear",display:!0,position:"left",ticks:{callback:e=>`${e.toLocaleString()}원`}}},interaction:{mode:"index",intersect:!1}},h={...u,scales:{y:{type:"linear",display:!0,position:"left",beginAtZero:!0,ticks:{callback:e=>e.toLocaleString()}}}},m={labels:s.dates,datasets:[{label:"주가",data:s.prices,borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.5)",tension:.1,pointRadius:1}]},p={labels:s.dates,datasets:[{label:"거래량",data:s.volumes,backgroundColor:"rgba(53, 162, 235, 0.5)"}]};return(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("div",{className:"border rounded p-4 bg-white",children:r.jsx(d.x1,{data:m,options:x})}),r.jsx("div",{className:"border rounded p-4 bg-white",children:r.jsx(d.$Q,{data:p,options:h})})]})}c.kL.register(c.uw,c.f$,c.od,c.jn,c.ZL,c.Dx,c.u,c.De);var x=s(5332);function h({symbol:e,currentPrice:t,userId:s}){let[n,i]=(0,a.useState)(t),[l,o]=(0,a.useState)("above"),[c,d]=(0,a.useState)(!1),u=async r=>{r.preventDefault(),d(!0);try{let{error:r}=await x.O.from("price_alerts").insert({user_id:s,symbol:e,target_price:n,alert_type:l,current_price:t,status:"active"});if(r)throw r;alert("가격 알림이 설정되었습니다.")}catch(e){console.error("알림 설정 실패:",e),alert("알림 설정에 실패했습니다.")}finally{d(!1)}};return(0,r.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"label",children:"알림 유형"}),(0,r.jsxs)("select",{className:"input",value:l,onChange:e=>o(e.target.value),children:[r.jsx("option",{value:"above",children:"이상일 때"}),r.jsx("option",{value:"below",children:"이하일 때"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"label",children:"목표가"}),r.jsx("input",{type:"number",className:"input",value:n,onChange:e=>i(Number(e.target.value)),min:0})]}),r.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:c,children:c?"설정 중...":"알림 설정"})]})}function m({symbol:e,currentPrice:t,userId:s}){let[n,i]=(0,a.useState)({symbol:e,buyPrice:t,sellPrice:t,quantity:1}),[l,o]=(0,a.useState)(!1),c=async e=>{e.preventDefault(),o(!0);try{let{error:e}=await x.O.from("auto_trading_rules").insert({...n,user_id:s,status:"active"});if(e)throw e;alert("자동매매 규칙이 설정되었습니다.")}catch(e){console.error("자동매매 설정 실패:",e),alert("설정에 실패했습니다.")}finally{o(!1)}};return(0,r.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"label",children:"매수가"}),r.jsx("input",{type:"number",className:"input",value:n.buyPrice,onChange:e=>i({...n,buyPrice:Number(e.target.value)}),min:0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"label",children:"매도가"}),r.jsx("input",{type:"number",className:"input",value:n.sellPrice,onChange:e=>i({...n,sellPrice:Number(e.target.value)}),min:0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"label",children:"수량"}),r.jsx("input",{type:"number",className:"input",value:n.quantity,onChange:e=>i({...n,quantity:Number(e.target.value)}),min:1})]}),r.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:l,children:l?"설정 중...":"자동매매 설정"})]})}function p({stock:e}){let[t,s]=(0,a.useState)(0),[n,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),d=async r=>{if(e){if(t<=0){c("수량을 입력해주세요");return}try{i(!0),c(null);let a={symbol:e.symbol,quantity:t,type:r};await (0,l.x1)(1,a),s(0),alert(`${"BUY"===r?"매수":"매도"} 주문이 완료되었습니다.`)}catch(e){c(e instanceof Error?e.message:"주문 처리 중 오류가 발생했습니다.")}finally{i(!1)}}};return e?(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx(u,{symbol:e.symbol,name:e.name}),(0,r.jsxs)("div",{className:"border rounded p-4 bg-white",children:[(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-bold",children:e.name}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-gray-600",children:"현재가"}),(0,r.jsxs)("div",{className:`text-xl font-bold ${(e.change??0)>=0?"text-red-600":"text-blue-600"}`,children:[e.price?.toLocaleString()??"-","원"]})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-gray-600",children:"등락률"}),(0,r.jsxs)("div",{className:`${(e.change??0)>=0?"text-red-600":"text-blue-600"}`,children:[e.change?.toFixed(2)??"-","%"]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"주문수량"}),r.jsx("input",{id:"quantity",type:"number",min:"1",value:t,onChange:e=>{c(null),s(Math.max(0,parseInt(e.target.value)||0))},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"수량을 입력하세요"})]}),o&&r.jsx("div",{className:"text-red-500 text-sm",children:o}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("button",{onClick:()=>d("BUY"),disabled:n,className:"bg-red-500 text-white py-2 px-4 rounded hover:bg-red-600 disabled:opacity-50",children:n?"처리중...":"매수"}),r.jsx("button",{onClick:()=>d("SELL"),disabled:n,className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 disabled:opacity-50",children:n?"처리중...":"매도"})]})]})]}),(0,r.jsxs)("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-bold mb-4",children:"가격 알림 설정"}),r.jsx(h,{symbol:e.symbol,currentPrice:e.price??0,userId:1})]}),(0,r.jsxs)("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-bold mb-4",children:"자동매매 설정"}),r.jsx(m,{symbol:e.symbol,currentPrice:e.price??0,userId:1})]})]}):r.jsx("div",{className:"text-center p-4 text-gray-500",children:"종목을 선택해주세요"})}function b({userId:e}){let[t,s]=(0,a.useState)(null);(0,a.useEffect)(()=>{n()},[e]);let n=async()=>{try{let t=await (0,l.PR)(e);s(t)}catch(e){console.error("사용자 정보 로딩 실패:",e)}};return t?(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"계좌 정보"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-600",children:"사용자명"}),r.jsx("p",{className:"text-lg font-semibold",children:t.username})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-600",children:"보유 현금"}),(0,r.jsxs)("p",{className:"text-lg font-semibold",children:[t.cash_balance.toLocaleString(),"원"]})]})]})]}):null}function g(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(null),[c,d]=(0,a.useState)(""),[u,x]=(0,a.useState)(!1),h=(0,a.useCallback)(i()(async e=>{if(!e.trim()){t([]);return}x(!0);try{let s=await (0,l.AL)(e);t(s)}catch(e){console.error("검색 실패:",e)}finally{x(!1)}},300),[]);return(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[(0,r.jsxs)("div",{className:"col-span-12 lg:col-span-8 space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg shadow-lg p-6 text-white",children:r.jsx(b,{userId:1})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"주식 검색"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:"text",value:c,onChange:e=>{let t=e.target.value;d(t),h(t)},placeholder:"종목명을 입력하세요...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),u&&r.jsx("div",{className:"absolute right-3 top-3",children:r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"})})]}),r.jsx("div",{className:"mt-4",children:r.jsx(o,{stocks:e,onSelectStock:n})})]})]}),r.jsx("div",{className:"col-span-12 lg:col-span-4 space-y-6",children:r.jsx("div",{className:"bg-white rounded-lg shadow-sm",children:r.jsx(p,{stock:s})})})]})}},5814:(e,t,s)=>{"use strict";s.d(t,{H:()=>l,a:()=>o});var r=s(5344),a=s(3729),n=s(5332);let i=(0,a.createContext)({user:null,loading:!0,signIn:async()=>{},signOut:async()=>{}});function l({children:e}){let[t,s]=(0,a.useState)(null),[l,o]=(0,a.useState)(!0);(0,a.useEffect)(()=>{console.log("AuthProvider mounted"),n.O.auth.getSession().then(({data:{session:e}})=>{console.log("Session check:",e),s(e?.user??null),o(!1)});let{data:{subscription:e}}=n.O.auth.onAuthStateChange((e,t)=>{console.log("Auth state changed:",t),s(t?.user??null),o(!1)});return()=>e.unsubscribe()},[]);let c=async(e,t)=>{let{error:s}=await n.O.auth.signInWithPassword({email:e,password:t});if(s)throw s},d=async()=>{let{error:e}=await n.O.auth.signOut();if(e)throw e};return r.jsx(i.Provider,{value:{user:t,loading:l,signIn:c,signOut:d},children:e})}let o=()=>(0,a.useContext)(i)},5332:(e,t,s)=>{"use strict";s.d(t,{O:()=>i});var r=s(6755);let a="https://uypvrugprpujbbaudtoi.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTcwNzc5NjU4NywiZXhwIjoyMDIzMzcyNTg3fQ.aMgKb3EWu9VzK7JHlbXrwXYww9Ot_3Xr3LhwCvvtZQE";if(!a||!n)throw Error("Missing Supabase environment variables");let i=(0,r.eI)(a,n)},8243:(e,t,s)=>{"use strict";s.d(t,{AL:()=>a,PR:()=>l,x1:()=>n,xf:()=>i});let r="/api",a=async e=>{try{let t=await fetch(`/api/stocks${e?`?query=${e}`:""}`);if(!t.ok)throw console.error("API response not ok:",t.status),Error("API 요청 실패");return await t.json()}catch(e){return console.error("주식 데이터 조회 실패:",e),[]}},n=async(e,t)=>{try{let s=await fetch(`${r}/trade`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,...t})});if(!s.ok)throw Error("거래 실패");return s.json()}catch(e){throw console.error("거래 실패:",e),e}},i=async e=>{try{let t=await fetch(`${r}/portfolio?userId=${e}`);if(!t.ok)throw Error("포트폴리오 조회 실패");return t.json()}catch(e){return console.error("포트폴리오 조회 실패:",e),[]}},l=async e=>{try{let t=await fetch(`${r}/users/${e}`);if(!t.ok)throw Error("사용자 정보 조회 실패");return t.json()}catch(e){throw console.error("사용자 정보 조회 실패:",e),e}}},1342:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(6843).createProxy)(String.raw`C:\Coding\Virtual Trader\src\app\layout.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},1136:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(6843).createProxy)(String.raw`C:\Coding\Virtual Trader\src\app\page.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},3824:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,882,816],()=>s(2739));module.exports=r})();